{"version":3,"sources":["components/book.js","components/imagePicker.js","components/book_inside.js","modal/modal.js","App.js","index.js"],"names":["Book","props","className","onClick","setActive","title","e","delete","stopPropagation","ImagePicker","photo","setPhoto","React","useState","images","setImages","multiple","value","onChange","imageList","maxNumber","dataURLKey","onImageUpload","onImageRemoveAll","isDragging","onImageUpdate","onImageRemove","dragProps","style","color","BookInside","active","activebook","setActivePhoto","length","map","i","key","src","Modal","addBook","text","setText","type","target","placeholder","App","setState","prevState","books","id","Date","now","localStorage","setItem","JSON","stringify","state","filter","photos","console","log","data_url","bookname","modal","a","parse","getItem","storageBooks","this","item","index","bookId","modalbook","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8bb8450b.chunk.js","sourcesContent":["import React from \"react\"\r\nimport '../app.scss'\r\n\r\nconst Book = (props) => {\r\n    return (\r\n        <div className=\"book\" onClick={()=>{\r\n            props.setActive(true)\r\n            props.onClick()\r\n            }}>\r\n            <h1 className=\"book_name\">{props.title || ''}</h1>\r\n            <div className=\"book_delete\" onClick={(e)=>{\r\n                props.delete()\r\n                e.stopPropagation()\r\n            }}>\r\n                <span className=\"material-icons\">\r\n                    clear\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Book;","import React from \"react\";\r\nimport '../style/imagePicker.scss'\r\nimport ImageUploading from \"react-images-uploading\";\r\n\r\nconst ImagePicker = ({photo, setPhoto}) => {\r\n  const [images, setImages] = React.useState(photo);\r\n  const maxNumber = 69;\r\n  const onChange = (imageList) => {\r\n    // data for submit\r\n    setImages(imageList);\r\n    setPhoto(imageList)\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ImageUploading\r\n        multiple\r\n        value={images}\r\n        onChange={onChange}\r\n        maxNumber={maxNumber}\r\n        dataURLKey=\"data_url\"\r\n      >\r\n        {({\r\n          imageList,\r\n          onImageUpload,\r\n          onImageRemoveAll,\r\n          onImageUpdate,\r\n          onImageRemove,\r\n          isDragging,\r\n          dragProps\r\n        }) => (\r\n          // write your building UI\r\n          <div className=\"upload__image-wrapper\">\r\n            <button\r\n              style={isDragging ? { color: \"red\" } : null}\r\n              onClick={onImageUpload}\r\n              {...dragProps}\r\n            >\r\n              Click or Drop here\r\n            </button>\r\n            &nbsp;\r\n            <button onClick={onImageRemoveAll}>Remove all images</button>\r\n          </div>\r\n        )}\r\n      </ImageUploading>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePicker;\r\n\r\n  \r\n  ","import React from \"react\";\r\nimport '../style/book_inside.scss'\r\nimport ImagePicker from \"./imagePicker\";\r\n\r\nconst BookInside = ({ active, setActive, activebook, setActivePhoto }) => {\r\n    return (\r\n        <div className={active ? \"modal_book active\" : \"modal_book\"} onClick={() => {setActive(false)}}>\r\n            <div className=\"book_content\" onClick={e => e.stopPropagation()}>\r\n                <h2 className=\"book_name\">{activebook.title}</h2>\r\n                <div className=\"book_photos\">\r\n                    <ImagePicker photo={activebook.photo} setPhoto={value=>setActivePhoto(value)}/>\r\n                    {activebook?.photo?.length ? activebook.photo.map( (i, key) => (<img src={i} key={key}/>)\r\n                        \r\n                    ) : <></>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookInside;","import React from \"react\";\r\nimport './modal.scss';\r\n\r\nconst Modal = ({active, setActive, addBook}) => {\r\n    const [text, setText] = React.useState('')\r\n    return (\r\n        <div className={active ? \"modal active\" : \"modal\"} onClick={() => {setActive(false)}}>\r\n            <div className = \"modal-content\" onClick = {e => e.stopPropagation()} >\r\n                <h3>Введите название книги</h3>\r\n                <div className=\"modal-body\">\r\n                    <input className=\"modal-input\" type=\"text\" value={text} onChange={(e)=>setText(e.target.value)} placeholder=\"Сюда\"></input>\r\n                    <input className=\"modal-btn\" type=\"button\" onClick={()=>{\r\n                        addBook(text)\r\n                        setText('')\r\n                        setActive(false)\r\n                    }} value=\"Принять\"></input>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;\r\n\r\n","import React from 'react';\r\nimport './app.scss';\r\nimport Book from './components/book';\r\nimport BookInside from './components/book_inside';\r\nimport Modal from './modal/modal';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      bookname: '',\r\n      modal: false,\r\n      books: [],\r\n      activebook: {}\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let storageBooks = await JSON.parse(localStorage.getItem('books'))\r\n    if (storageBooks) {\r\n      this.setState({ books: storageBooks })\r\n    }\r\n  }\r\n\r\n  addBook = (title) => {\r\n    this.setState(prevState => {\r\n      return {\r\n        books: [...prevState.books, {\r\n          id: Date.now(),\r\n          title: title,\r\n          photo: []\r\n        }]\r\n      }\r\n    }, () => localStorage.setItem('books', JSON.stringify(this.state.books)))\r\n  }\r\n\r\n  delete = (id) => {\r\n    this.setState(prevState => {\r\n      return {\r\n        books: prevState.books.filter(i=>i.id != id)\r\n      }\r\n    }, ()=>localStorage.setItem('books', JSON.stringify(this.state.books)))\r\n  }\r\n\r\n  setActivePhoto = (photos) => {\r\n    this.setState(prevState => {\r\n      console.log(photos);\r\n      return {\r\n        activebook: {\r\n          id:prevState.activebook.id,\r\n          title:prevState.activebook.title,\r\n          photo:[...prevState.activebook.photo, ...photos.map(i=>{return i.data_url})]\r\n        }\r\n      }\r\n    }, ()=>{\r\n      this.setState(prevState => {\r\n        return {\r\n          books: prevState.books.map(e=>{\r\n            if(e.id === prevState.activebook.id) {\r\n              return prevState.activebook\r\n            } else {\r\n              return e\r\n            }\r\n          })\r\n        }\r\n      }, ()=>localStorage.setItem('books', JSON.stringify(this.state.books)))\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <header>\r\n          <h2>Tetradka</h2>\r\n        </header>\r\n        <section className=\"main\">\r\n          <div className=\"books_content\">\r\n            {this.state.books.map((item, index) =>\r\n              <Book\r\n                key={index}\r\n                bookId={item.id}\r\n                title={item.title}\r\n                setActive={value => this.setState({ modalbook: value })}\r\n                onClick={()=>this.setState({ activebook: item }, ()=>console.log(this.state.activebook))}\r\n                delete={()=>this.delete(item.id)}\r\n              />)}\r\n            <div className=\"book_add\" onClick={() => this.setState({ modal: true, bookname: this.title })}>\r\n              <h2> Добавить книгу </h2>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <BookInside\r\n          activebook = {this.state.activebook}\r\n          active={this.state.modalbook}\r\n          setActive={value => this.setState({ modalbook: value })}\r\n          setActivePhoto={value => this.setActivePhoto(value)}\r\n        />\r\n        <Modal\r\n          active={this.state.modal}\r\n          setActive={value => this.setState({ modal: value })} addBook={this.addBook} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}